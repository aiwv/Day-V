<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; }

body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    font-family: 'Playfair Display', serif;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #f6d6dc;
    position: relative;
}

/* üåä –í–æ–ª–Ω—ã */
.ocean {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 220px;
    overflow: hidden;
    z-index: 0;
}

.wave-svg {
    position: absolute;
    width: 200%;
    height: 100%;
    bottom: 0;
    animation: waveMove 12s linear infinite;
}

.wave-svg:nth-child(2) { animation-duration: 18s; opacity: 0.7; }
.wave-svg:nth-child(3) { animation-duration: 25s; opacity: 0.5; }

@keyframes waveMove {
    from { transform: translateX(0); }
    to { transform: translateX(-50%); }
}

/* —ç–∫—Ä–∞–Ω—ã */
.screen {
    display: none;
    text-align: center;
    position: relative;
    z-index: 2;
}

.screen.active { display: block; }

h1 {
    color: #7a2e3a;
    font-size: 42px;
}

/* –∫–Ω–æ–ø–∫–∏ */
.buttons {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 28px;
    margin-top: 40px;
}

button {
    padding: 14px 30px;
    font-size: 18px;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    font-family: 'Playfair Display', serif;
}

button:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 18px rgba(0,0,0,0.2);
}

.yes { background: #e7546f; color: white; }
.no { background: #888; color: white; }

/* üí¨ –û–±–ª–∞–∫–æ */
.message-bubble {
    position: fixed;
    min-width: 220px;
    max-width: min(380px, 70vw);
    background: rgba(255,255,255,0.96);
    padding: 20px 26px;
    border-radius: 22px;
    border: 1px solid rgba(122,46,58,0.12);
    box-shadow: 0 18px 40px rgba(0,0,0,0.14);
    font-size: 18px;
    color: #7a2e3a;
    line-height: 1.6;
    text-align: center;
    animation: fadeIn 0.3s ease;
    backdrop-filter: blur(6px);
}

.message-bubble::after {
    content: "";
    position: absolute;
    width: 18px;
    height: 18px;
    background: rgba(255,255,255,0.96);
    border-radius: 4px;
    border: 1px solid rgba(122,46,58,0.12);
    box-shadow: 0 10px 24px rgba(0,0,0,0.10);
    transform: rotate(45deg);
}

.message-bubble[data-side="right"]::after {
    left: -9px;
    top: var(--arrow-offset-y, 50%);
    transform: translateY(-50%) rotate(45deg);
}

.message-bubble[data-side="left"]::after {
    right: -9px;
    top: var(--arrow-offset-y, 50%);
    transform: translateY(-50%) rotate(45deg);
}

.message-bubble[data-side="top"]::after {
    bottom: -9px;
    left: var(--arrow-offset-x, 50%);
    transform: translateX(-50%) rotate(45deg);
}

.message-bubble[data-side="bottom"]::after {
    top: -9px;
    left: var(--arrow-offset-x, 50%);
    transform: translateX(-50%) rotate(45deg);
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* üíå –ü–∏—Å—å–º–æ */
.letter-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 140px; /* –±–æ–ª—å—à–µ –≤–æ–∑–¥—É—Ö–∞ */
    margin-top: 40px;
    animation: fadeIn 0.6s ease;
}

.letter {
    background: white;
    padding: 40px 50px;
    border-radius: 24px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    max-width: 420px;
    text-align: left;
}

.letter h2 {
    margin-top: 0;
    color: #7a2e3a;
}

.letter p {
    font-size: 18px;
    line-height: 1.7;
    color: #5a1f2a;
}

.photo img {
    width: 320px;
    border-radius: 20px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.2);
    transform: rotate(-90deg);
}

.hero-sun {
    display: block;
    margin: 0 auto 18px;
    width: 180px;
    max-width: 50vw;
    height: auto;
    filter: drop-shadow(0 18px 30px rgba(122,46,58,0.18));
}
</style>
</head>

<body>

<div class="ocean">
    <svg class="wave-svg" viewBox="0 0 1200 200" preserveAspectRatio="none">
        <path d="M0,100 C300,200 900,0 1200,100 L1200,200 L0,200 Z" fill="#f2b8c6"/>
    </svg>
    <svg class="wave-svg" viewBox="0 0 1200 200" preserveAspectRatio="none">
        <path d="M0,120 C400,0 800,200 1200,120 L1200,200 L0,200 Z" fill="#f09ab5"/>
    </svg>
    <svg class="wave-svg" viewBox="0 0 1200 200" preserveAspectRatio="none">
        <path d="M0,140 C350,220 850,20 1200,140 L1200,200 L0,200 Z" fill="#ec7fa3"/>
    </svg>
</div>

<div class="screen active" id="mainScreen">
    <img class="hero-sun" src="sun.png" alt="Sun">
    <h1 id="typing"></h1>
    <div class="buttons">
        <button class="yes" id="yesBtn">Yes</button>
        <button class="no" id="noBtn">No</button>
    </div>
</div>

<div class="screen" id="letterScreen">
    <div class="letter-container">
        <div class="letter">
            <h2><center>üíå</center></h2>
            <p>
                –î–æ—Ä–æ–≥–æ–µ –æ–±–ª–∞—á–∫–æ,<br>
                –¢—ã –±—ã–ª —Ö–æ—Ä–æ—à–∏–º –º–∞–ª—å—á–∏–∫–æ–º, –ø–æ—ç—Ç–æ–º—É –º–æ–π —Ç–µ–±–µ –ø–æ–¥–∞—Ä–æ–∫ ‚Äî  
                —è –ø—Ä–∏–≥–ª–∞—à–∞—é —Ç–µ–±—è –≤ –∫–∏–Ω–æ, –∫–æ—Ç–æ—Ä—ã–π —è —Ö–æ—á—É –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∏ –Ω–∞ —É–∂–∏–Ω, –∫–æ—Ç–æ—Ä—ã–π —è —Ö–æ—á—É –µ—Å—Ç—å,
                –∞ –ø–æ—Ç–æ–º –ø–æ—Å–ª–µ –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ –º—ã –±—É–¥–µ–º –¥–æ–ª–≥–æ-–¥–æ–ª–≥–æ —Ü—ã–ª–∞–≤–∞—Ü–∞ üíñ
            </p>
        </div>
        <div class="photo">
            <img src="photo2.jpg" alt="Your photo">
        </div>
    </div>
</div>

<script>
const text = "Will you be my Valentine?";
let index = 0;
const typingEl = document.getElementById("typing");

function type() {
    if (index < text.length) {
        typingEl.textContent += text.charAt(index);
        index++;
        setTimeout(type, 80);
    }
}
type();

const messages = [
    "–£–≤–µ—Ä–µ–Ω?",
    "–ü–æ–¥—É–º–∞–π –µ—â–µ —Ä–∞–∑...",
    `–ü–µ—Ä–≤—ã–π —Ä–∞–∑ –±—ã–ª –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç–µ–ª—å–Ω—ã–º,
–≤—Ç–æ—Ä–æ–π –∑–∞–∫—Ä–µ–ø–∏—Ç–µ–ª—å–Ω—ã–º...
—Ç—Ä–µ—Ç–∏–π –±—É–¥–µ—Ç –Ω–∞–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–º,
–µ—Å–ª–∏ –Ω–µ –Ω–∞–∂–º–µ—à—å "Yes" üòà`
];

let clickCount = 0;
let finalStage = false;
let removalTimer = null;

const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const mainScreen = document.getElementById("mainScreen");
const letterScreen = document.getElementById("letterScreen");

noBtn.addEventListener("click", () => {

    if (finalStage) return;

    const oldBubble = document.querySelector(".message-bubble");
    if (oldBubble) oldBubble.remove();

    const bubble = document.createElement("div");
    bubble.className = "message-bubble";
    bubble.innerText = messages[clickCount];
    document.body.appendChild(bubble);

    const rect = noBtn.getBoundingClientRect();

    const viewportPadding = 16;
    const gap = 14;

    const maxX = window.innerWidth - bubble.offsetWidth - viewportPadding;
    const maxY = window.innerHeight - bubble.offsetHeight - viewportPadding;

    const candidates = [
        { side: "right", x: rect.right + gap, y: rect.top + rect.height / 2 - bubble.offsetHeight / 2 },
        { side: "left", x: rect.left - gap - bubble.offsetWidth, y: rect.top + rect.height / 2 - bubble.offsetHeight / 2 },
        { side: "bottom", x: rect.left + rect.width / 2 - bubble.offsetWidth / 2, y: rect.bottom + gap },
        { side: "top", x: rect.left + rect.width / 2 - bubble.offsetWidth / 2, y: rect.top - gap - bubble.offsetHeight }
    ];

    let chosen = candidates[0];
    for (const c of candidates) {
        if (
            c.x >= viewportPadding &&
            c.y >= viewportPadding &&
            c.x <= maxX &&
            c.y <= maxY
        ) {
            chosen = c;
            break;
        }
    }

    const finalX = Math.min(Math.max(chosen.x, viewportPadding), maxX);
    const finalY = Math.min(Math.max(chosen.y, viewportPadding), maxY);

    bubble.dataset.side = chosen.side;
    bubble.style.left = finalX + "px";
    bubble.style.top = finalY + "px";

    const bubbleRect = bubble.getBoundingClientRect();
    const midY = rect.top + rect.height / 2 - bubbleRect.top;
    const midX = rect.left + rect.width / 2 - bubbleRect.left;

    bubble.style.setProperty("--arrow-offset-y", Math.max(14, Math.min(bubbleRect.height - 14, midY)) + "px");
    bubble.style.setProperty("--arrow-offset-x", Math.max(18, Math.min(bubbleRect.width - 18, midX)) + "px");

    if (clickCount === messages.length - 1) {
        finalStage = true;
        removalTimer = setTimeout(() => {
            const lastBubble = document.querySelector(".message-bubble");
            if (lastBubble) lastBubble.remove();
            if (noBtn) noBtn.remove();
        }, 8000);
    }

    if (clickCount < messages.length - 1) clickCount++;
});

yesBtn.addEventListener("click", () => {

    if (removalTimer) clearTimeout(removalTimer);

    const bubble = document.querySelector(".message-bubble");
    if (bubble) bubble.remove();

    if (noBtn) noBtn.remove();

    mainScreen.classList.remove("active");
    letterScreen.classList.add("active");
});
</script>

</body>
</html>

